<Application x:Class="AlgorithmBenchmarker.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:converters="clr-namespace:AlgorithmBenchmarker.Converters">
	<Application.Resources>
		<ResourceDictionary>
			<ResourceDictionary.MergedDictionaries>
				<!-- Default Theme -->
				<ResourceDictionary Source="Themes/DarkTheme.xaml"/>
			</ResourceDictionary.MergedDictionaries>

			<!-- Non-theme shared resources -->
			<converters:BooleanInverseConverter x:Key="BooleanInverseConverter"/>

			<!-- ToolTip Style -->
			<Style TargetType="ToolTip">
				<Setter Property="Background" Value="{DynamicResource SurfaceBrush}"/>
				<Setter Property="Foreground" Value="{DynamicResource TextBrush}"/>
				<Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}"/>
				<Setter Property="BorderThickness" Value="{StaticResource DefaultBorderThickness}"/>
				<Setter Property="Padding" Value="5"/>
			</Style>

			<!-- TextBlock Style -->
			<Style TargetType="TextBlock">
				<Setter Property="Foreground" Value="{DynamicResource TextBrush}"/>
				<Setter Property="VerticalAlignment" Value="Center"/>
			</Style>

			<!-- TextBox Style -->
			<Style TargetType="TextBox">
				<Setter Property="Background" Value="{DynamicResource SurfaceBrush}"/>
				<Setter Property="Foreground" Value="{DynamicResource TextBrush}"/>
				<Setter Property="CaretBrush" Value="{DynamicResource AccentBrush}"/>
				<Setter Property="SelectionBrush" Value="{DynamicResource AccentBrush}"/>
				<Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}"/>
				<Setter Property="Padding" Value="{StaticResource InputPadding}"/>
				<Setter Property="Template">
					<Setter.Value>
						<ControlTemplate TargetType="TextBox">
							<Border Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{StaticResource DefaultBorderThickness}"
                                    CornerRadius="{StaticResource ControlCornerRadius}">
								<ScrollViewer x:Name="PART_ContentHost"/>
							</Border>
						</ControlTemplate>
					</Setter.Value>
				</Setter>
			</Style>

			<!-- Button Style -->
			<Style TargetType="Button">
				<Setter Property="Background" Value="{DynamicResource AccentBrush}"/>
				<Setter Property="Foreground" Value="White"/>
				<Setter Property="Padding" Value="16,8"/>
				<Setter Property="MinWidth" Value="140"/>
				<Setter Property="FontSize" Value="14"/>
				<Setter Property="FontWeight" Value="SemiBold"/>
				<Setter Property="BorderThickness" Value="0"/>
				<Setter Property="Template">
					<Setter.Value>
						<ControlTemplate TargetType="Button">
							<Border Background="{TemplateBinding Background}" CornerRadius="6">
								<ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" Margin="{TemplateBinding Padding}"/>
							</Border>
							<ControlTemplate.Triggers>
								<Trigger Property="IsMouseOver" Value="True">
									<Setter Property="Opacity" Value="0.9"/>
									<Setter Property="Cursor" Value="Hand"/>
								</Trigger>
								<Trigger Property="IsEnabled" Value="False">
									<Setter Property="Opacity" Value="0.5"/>
								</Trigger>
							</ControlTemplate.Triggers>
						</ControlTemplate>
					</Setter.Value>
				</Setter>
			</Style>

			<!-- GroupBox Style -->
			<Style TargetType="GroupBox">
				<Setter Property="Foreground" Value="{DynamicResource TextBrush}"/>
				<Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}"/>
				<Setter Property="Margin" Value="0,10"/>
			</Style>

			<!-- ComboBox Style -->
			<Style TargetType="ComboBox">
				<Setter Property="Padding" Value="{StaticResource InputPadding}"/>
				<Setter Property="Background" Value="{DynamicResource SurfaceBrush}"/>
				<Setter Property="Foreground" Value="{DynamicResource TextBrush}"/>
				<Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}"/>
				<Setter Property="BorderThickness" Value="{StaticResource DefaultBorderThickness}"/>
				<Setter Property="Template">
					<Setter.Value>
						<ControlTemplate TargetType="ComboBox">
							<Grid>
								<Border x:Name="Bd"
                                        Background="{TemplateBinding Background}"
                                        BorderBrush="{TemplateBinding BorderBrush}"
                                        BorderThickness="{TemplateBinding BorderThickness}"
                                        CornerRadius="{StaticResource ControlCornerRadius}"
                                        Padding="2">
									<Grid>
										<TextBlock x:Name="ContentSiteText"
                                                   Text="{Binding SelectionBoxItem, RelativeSource={RelativeSource TemplatedParent}}"
                                                   VerticalAlignment="Center"
                                                   Margin="6,0,30,0"
                                                   TextTrimming="CharacterEllipsis"
                                                   Foreground="{TemplateBinding Foreground}"/>
										<ToggleButton x:Name="ToggleButton"
                                                      IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
                                                      Focusable="False"
                                                      HorizontalAlignment="Right"
                                                      VerticalAlignment="Stretch"
                                                      Width="{StaticResource ToggleButtonWidth}"
                                                      Background="Transparent"
                                                      BorderThickness="0"
                                                      Margin="0">
											<Path Data="M 0 0 L 4 4 L 8 0 Z"
                                                  Fill="{DynamicResource BorderBrush}"
                                                  Stretch="Uniform"
                                                  HorizontalAlignment="Center"
                                                  VerticalAlignment="Center"/>
										</ToggleButton>
									</Grid>
								</Border>

								<Popup x:Name="PART_Popup"
                                       Placement="Bottom"
                                       AllowsTransparency="True"
                                       Focusable="False"
                                       IsOpen="{Binding IsDropDownOpen, RelativeSource={RelativeSource TemplatedParent}}"
                                       StaysOpen="False">
									<Border Background="{DynamicResource SurfaceBrush}"
                                            BorderBrush="{DynamicResource BorderBrush}"
                                            BorderThickness="{StaticResource DefaultBorderThickness}"
                                            CornerRadius="{StaticResource ControlCornerRadius}"
                                            Padding="4"
                                            MinWidth="{Binding ActualWidth, ElementName=Bd}">
										<ScrollViewer CanContentScroll="True">
											<StackPanel IsItemsHost="True"/>
										</ScrollViewer>
									</Border>
								</Popup>
							</Grid>

							<ControlTemplate.Triggers>
								<Trigger Property="IsEnabled" Value="False">
									<Setter TargetName="Bd" Property="Opacity" Value="0.6"/>
								</Trigger>
								<Trigger Property="IsMouseOver" Value="True">
									<Setter TargetName="Bd" Property="BorderBrush" Value="{DynamicResource AccentBrush}"/>
								</Trigger>
							</ControlTemplate.Triggers>
						</ControlTemplate>
					</Setter.Value>
				</Setter>
			</Style>

			<!-- ComboBoxItem Style -->
			<Style TargetType="ComboBoxItem">
				<Setter Property="Background" Value="{DynamicResource SurfaceBrush}"/>
				<Setter Property="Padding" Value="5"/>
				<Setter Property="Foreground" Value="{DynamicResource TextBrush}"/>
				<Setter Property="HorizontalContentAlignment" Value="Left"/>
				<Setter Property="Template">
					<Setter.Value>
						<ControlTemplate TargetType="ComboBoxItem">
							<Border Background="{TemplateBinding Background}" Padding="{TemplateBinding Padding}">
								<TextBlock Text="{Binding}"
                                           HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                           VerticalAlignment="Center"
                                           Foreground="{TemplateBinding Foreground}"
                                           TextTrimming="CharacterEllipsis"/>
							</Border>
							<ControlTemplate.Triggers>
								<Trigger Property="IsHighlighted" Value="True">
									<Setter Property="Background" Value="{DynamicResource AccentBrush}"/>
									<Setter Property="Foreground" Value="White"/>
								</Trigger>
								<Trigger Property="IsSelected" Value="True">
									<Setter Property="Background" Value="{DynamicResource AccentBrush}"/>
									<Setter Property="Foreground" Value="White"/>
								</Trigger>
							</ControlTemplate.Triggers>
						</ControlTemplate>
					</Setter.Value>
				</Setter>
			</Style>

			<!-- DataGrid / DataGridCell / Headers -->
			<Style TargetType="DataGrid">
				<Setter Property="Background" Value="{DynamicResource BackgroundBrush}"/>
				<Setter Property="RowBackground" Value="{DynamicResource BackgroundBrush}"/>
				<Setter Property="Foreground" Value="{DynamicResource TextBrush}"/>
				<Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}"/>
				<Setter Property="GridLinesVisibility" Value="Horizontal"/>
				<Setter Property="HorizontalGridLinesBrush" Value="{DynamicResource BorderBrush}"/>
				<Setter Property="HeadersVisibility" Value="Column"/>
			</Style>

			<Style TargetType="DataGridColumnHeader">
				<Setter Property="Background" Value="{DynamicResource SurfaceBrush}"/>
				<Setter Property="Foreground" Value="{DynamicResource TextBrush}"/>
				<Setter Property="Padding" Value="10,5"/>
				<Setter Property="BorderThickness" Value="0,0,1,1"/>
				<Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}"/>
			</Style>

			<Style TargetType="DataGridCell">
				<Setter Property="Padding" Value="5"/>
				<Setter Property="Background" Value="Transparent"/>
				<Setter Property="Foreground" Value="{DynamicResource ControlContentForeground}"/>
				<Setter Property="BorderThickness" Value="0"/>
				<Style.Triggers>
					<Trigger Property="IsSelected" Value="True">
						<Setter Property="Background" Value="{DynamicResource AccentBrush}"/>
						<Setter Property="Foreground" Value="White"/>
					</Trigger>
				</Style.Triggers>
			</Style>

			<!-- TabItem Style -->
			<Style TargetType="TabItem">
				<Setter Property="Foreground" Value="#999999"/>
				<Setter Property="FontSize" Value="16"/>
				<Setter Property="Padding" Value="15,10"/>
				<Setter Property="Background" Value="Transparent"/>
				<Setter Property="Template">
					<Setter.Value>
						<ControlTemplate TargetType="TabItem">
							<Border Name="Border" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="0,0,0,2" Margin="0,0,10,0">
								<ContentPresenter x:Name="ContentSite"
                                                VerticalAlignment="Center"
                                                HorizontalAlignment="Center"
                                                ContentSource="Header"
                                                Margin="{TemplateBinding Padding}"/>
							</Border>
							<ControlTemplate.Triggers>
								<Trigger Property="IsSelected" Value="True">
									<Setter TargetName="Border" Property="BorderBrush" Value="{DynamicResource AccentBrush}"/>
									<Setter Property="Foreground" Value="{DynamicResource TextBrush}"/>
									<Setter Property="FontWeight" Value="SemiBold"/>
								</Trigger>
								<Trigger Property="IsSelected" Value="False">
									<Setter TargetName="Border" Property="BorderBrush" Value="Transparent"/>
								</Trigger>
								<Trigger Property="IsMouseOver" Value="True">
									<Setter Property="Foreground" Value="{DynamicResource AccentBrush}"/>
								</Trigger>
							</ControlTemplate.Triggers>
						</ControlTemplate>
					</Setter.Value>
				</Setter>
			</Style>

		</ResourceDictionary>
	</Application.Resources>
</Application>